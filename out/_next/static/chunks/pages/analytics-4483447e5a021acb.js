(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[583],{48178:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/analytics",function(){return r(60426)}])},60426:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return A}});var n=r(85893),a=r(67294),s=r(62282),o=r(9008),l=r.n(o),c=r(46690),i=r(44961),u=r(39023),d=r(47568),b=r(70603),f=r(70655),m=r(9137),p=r(98887),h=r(241),g=r(11466),Z=r(9669),x=r.n(Z),N=r(11163),y=r(42484),v=r.n(y),w=r(2127),k=r(31838);function S(){(0,N.useRouter)();var t=(0,b.Z)(a.useState(!1),2),e=(t[0],t[1],(0,a.useState)("")),r=(e[0],e[1],(0,a.useState)()),n=r[0],s=r[1],o=(0,a.useState)([]),l=(o[0],o[1]),c=(0,a.useState)([]),i=c[0],u=c[1],Z=(0,a.useState)([]),y=Z[0],S=Z[1],A=(0,a.useState)("not-loaded"),j=(A[0],A[1]);function I(){return I=(0,d.Z)((function(){var t,e,r,n,a,o,c,i,b,m,p;return(0,f.__generator)(this,(function(Z){switch(Z.label){case 0:return[4,(t=new(v())({network:"mainnet",cacheProvider:!0})).connect()];case 1:return e=Z.sent(),r=new h.Q(e),[4,(n=r.getSigner()).getAddress()];case 2:return s.apply(void 0,[Z.sent()]),[4,(a=new g.CH(k.O,w.Mt,n)).fetchMyFiles()];case 3:return o=Z.sent(),console.log("Data fetch from smart contract is",o.length),S(o.length),[4,t.connect()];case 4:return c=Z.sent(),i=new h.Q(c),b=i.getSigner(),[4,new g.CH(k.O,w.Mt,b).fetchAllStorageItems()];case 5:return m=Z.sent(),console.log("Data fetch from smart contract is",m.length),u(m.length),[4,Promise.all(o.map(function(){var t=(0,d.Z)((function(t){var e,r,n,s;return(0,f.__generator)(this,(function(o){switch(o.label){case 0:return[4,a.tokenURI(t.tokenId)];case 1:return e=o.sent(),console.log("token Uri is ",e),r=E(e),console.log("Http Uri is ",r),[4,x().get(r)];case 2:return n=o.sent(),s={tokenId:t.tokenId.toNumber(),image:E(n.data.image),name:n.data.name,description:n.data.description,sharelink:E(n.data.image)},console.log("item returned is ",s),[2,s]}}))}));return function(e){return t.apply(this,arguments)}}()))];case 6:return p=Z.sent(),l(p),j("loaded"),[2]}}))})),I.apply(this,arguments)}(0,a.useEffect)((function(){!function(){I.apply(this,arguments)}()}),[]);var E=function(t){var e=t.split("/");return"https://".concat(e[2],".ipfs.nftstorage.link/").concat(e[3])};return(0,m.tZ)(p.xu,{as:"section",sx:_.section},(0,m.tZ)("div",{className:"bg-purple-100 text-4xl text-center text-black font-bold pt-10"},(0,m.tZ)("h1",null," Analytics")),(0,m.tZ)("div",{className:"flex flex-col bg-purple-100 text-2xl text-center text-black font-bold pt-10"},(0,m.tZ)("h2",null," User's Stats"),(0,m.tZ)("table",{className:"table-auto border-separate border-spacing-2 border border-slate-500"},(0,m.tZ)("thead",{className:"bg-purple-800 text-2xl text-center text-white"},(0,m.tZ)("tr",null,(0,m.tZ)("th",{className:"border border-slate-600"},"Variable"),(0,m.tZ)("th",{className:"border border-slate-600"},"statistics"),(0,m.tZ)("th",{className:"border border-slate-600"},"Year Started"))),(0,m.tZ)("tbody",null,(0,m.tZ)("tr",null,(0,m.tZ)("td",{className:"border border-slate-700"},"Wallet Address"),(0,m.tZ)("td",{className:"border border-slate-700"},n),(0,m.tZ)("td",{className:"border border-slate-700"},"2022")),(0,m.tZ)("tr",{className:"bg-gray-300 border-b"},(0,m.tZ)("td",{className:"border border-slate-700"},"Total Number of Files in contract"),(0,m.tZ)("td",{className:"border border-slate-700"},i),(0,m.tZ)("td",{className:"border border-slate-700"},"2022")),(0,m.tZ)("tr",null,(0,m.tZ)("td",{className:"border border-slate-700"},"Number of Files Uploaded by me"),(0,m.tZ)("td",{className:"border border-slate-700"},y),(0,m.tZ)("td",{className:"border border-slate-700"},"2022"))))),(0,m.tZ)("div",{className:"bg-purple-100 text-4xl text-center text-black font-bold pt-20 pb-10"},(0,m.tZ)("h1",null,"0% of storage used.")))}var _={section:{backgroundColor:"primary",pt:[17,null,null,20,null],pb:[6,null,null,12,16]}};function A(){return(0,n.jsxs)(s.f,{theme:c.Z,children:[(0,n.jsx)(l(),{children:(0,n.jsx)("link",{rel:"shortcut icon",href:"/images/logo.png"})}),(0,n.jsxs)(u.Z,{children:[(0,n.jsx)(i.Z,{title:"Add new file",description:"add a new file"}),(0,n.jsx)(S,{})]})]})}},70603:function(t,e,r){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"===typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.d(e,{Z:function(){return a}})}},function(t){t.O(0,[277,548,54,656,525,474,881,774,888,179],(function(){return e=48178,t(t.s=e);var e}));var e=t.O();_N_E=e}]);